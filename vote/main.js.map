{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.service.ts","webpack:///./src/app/module/confirm-dialog/confirm-dialog.component.html","webpack:///./src/app/module/confirm-dialog/confirm-dialog.component.scss","webpack:///./src/app/module/confirm-dialog/confirm-dialog.component.ts","webpack:///./src/app/module/dashboard/dashboard.component.html","webpack:///./src/app/module/dashboard/dashboard.component.scss","webpack:///./src/app/module/dashboard/dashboard.component.ts","webpack:///./src/app/module/login/login.component.html","webpack:///./src/app/module/login/login.component.scss","webpack:///./src/app/module/login/login.component.ts","webpack:///./src/app/module/login/login.guard.ts","webpack:///./src/app/module/login/login.service.ts","webpack:///./src/app/module/page-not-found/page-not-found.component.html","webpack:///./src/app/module/page-not-found/page-not-found.component.scss","webpack:///./src/app/module/page-not-found/page-not-found.component.ts","webpack:///./src/app/module/setup/setup.component.html","webpack:///./src/app/module/setup/setup.component.scss","webpack:///./src/app/module/setup/setup.component.ts","webpack:///./src/app/module/voting/voting.component.html","webpack:///./src/app/module/voting/voting.component.scss","webpack:///./src/app/module/voting/voting.component.ts","webpack:///./src/app/shared/order-by.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {LoginComponent} from './module/login/login.component';\nimport {SetupComponent} from './module/setup/setup.component';\nimport {PageNotFoundComponent} from './module/page-not-found/page-not-found.component';\nimport {VotingComponent} from './module/voting/voting.component';\nimport {DashboardComponent} from './module/dashboard/dashboard.component';\nimport {LoginGuard} from './module/login/login.guard';\n\nconst routes: Routes = [\n  {path: '', redirectTo: '/login', pathMatch: 'full'},\n  {path: 'login', component: LoginComponent},\n  {path: 'setup', component: SetupComponent, canActivate: [LoginGuard]},\n  {path: 'voting', component: VotingComponent, canActivate: [LoginGuard]},\n  {path: 'dashboard', component: DashboardComponent, canActivate: [LoginGuard]},\n  {path: '**', component: PageNotFoundComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div class=\\\"container\\\">\\n  <router-outlet></router-outlet>\\n</div>\\n\"","module.exports = \".container {\\n  max-width: 1016px;\\n  margin-right: auto;\\n  margin-left: auto;\\n  padding-left: 15px;\\n  padding-right: 15px; }\\n\\n@media (min-width: 992px) {\\n  .container {\\n    width: 970px; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEvUHJvamVjdHMvYnNzL2Jzcy12b3Rpbmcvc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBaUI7RUFDakIsbUJBQWtCO0VBQ2xCLGtCQUFpQjtFQUNqQixtQkFBa0I7RUFDbEIsb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0U7SUFDRSxhQUFZLEVBQ2IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xuICBtYXgtd2lkdGg6IDEwMTZweDtcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xufVxuXG5AbWVkaWEgKG1pbi13aWR0aDogOTkycHgpIHtcbiAgLmNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDk3MHB4O1xuICB9XG59XG4iXX0= */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n}\n","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {\n  MatAutocompleteModule,\n  MatButtonModule,\n  MatCardModule,\n  MatCheckboxModule,\n  MatChipsModule,\n  MatDialogModule,\n  MatFormFieldModule,\n  MatGridListModule,\n  MatIconModule,\n  MatInputModule,\n  MatListModule,\n  MatOptionModule,\n  MatProgressSpinnerModule,\n  MatSelectModule,\n  MatSnackBarModule,\n  MatTableModule,\n  MatTabsModule,\n} from '@angular/material';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {VotingComponent} from './module/voting/voting.component';\nimport {SetupComponent} from './module/setup/setup.component';\nimport {LoginComponent} from './module/login/login.component';\nimport {DashboardComponent} from './module/dashboard/dashboard.component';\nimport {PageNotFoundComponent} from './module/page-not-found/page-not-found.component';\n\nimport {AngularFireModule} from '@angular/fire';\nimport {AngularFirestoreModule} from '@angular/fire/firestore';\nimport {AngularFireStorageModule} from '@angular/fire/storage';\nimport {AngularFireAuthModule} from '@angular/fire/auth';\nimport {environment} from '../environments/environment';\nimport {LoginGuard} from './module/login/login.guard';\nimport {LoginService} from './module/login/login.service';\nimport {ConfirmDialogComponent} from './module/confirm-dialog/confirm-dialog.component';\nimport {OrderBy} from './shared/order-by';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    VotingComponent,\n    SetupComponent,\n    LoginComponent,\n    DashboardComponent,\n    PageNotFoundComponent,\n    ConfirmDialogComponent,\n    OrderBy\n  ],\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(environment.firebase, 'bss-voting'),\n    AngularFirestoreModule.enablePersistence(), // imports firebase/firestore, only needed for database features\n    AngularFireAuthModule, // imports firebase/auth, only needed for auth features,\n    AngularFireStorageModule, // imports firebase/storage only needed for storage features\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule,\n    MatCheckboxModule,\n    MatOptionModule,\n    MatSelectModule,\n    MatListModule,\n    MatDialogModule,\n    MatChipsModule,\n    MatIconModule,\n    MatAutocompleteModule,\n    MatCardModule,\n    MatGridListModule,\n    MatProgressSpinnerModule,\n    MatSnackBarModule,\n    MatTableModule,\n    MatTabsModule,\n    AppRoutingModule\n  ],\n  entryComponents: [\n    ConfirmDialogComponent\n  ],\n  providers: [\n    LoginService,\n    LoginGuard\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Injectable} from '@angular/core';\nimport {LoginService} from './module/login/login.service';\nimport {MConfig} from './model/m-config';\nimport {catchError, filter, map} from 'rxjs/operators';\nimport {BehaviorSubject, of} from 'rxjs';\nimport {AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument} from '@angular/fire/firestore';\nimport {Router} from '@angular/router';\nimport {MSection} from './model/m-section';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppService {\n\n  configSubject: BehaviorSubject<MConfig | null> = new BehaviorSubject(null);\n\n  sectionSubject: BehaviorSubject<MSection[] | null> = new BehaviorSubject(null);\n  sectionCollection: AngularFirestoreCollection<MSection>;\n  currentSectionSubject: BehaviorSubject<MSection | null> = new BehaviorSubject(null);\n\n  voterListSubject: BehaviorSubject<Object[] | null> = new BehaviorSubject(null);\n  voterSubject: BehaviorSubject<Object> = new BehaviorSubject(null);\n  voterDocument: AngularFirestoreDocument<any>;\n\n  constructor(private db: AngularFirestore, private auth: LoginService, private router: Router) {\n    this.auth.authStateSubject.pipe(filter((v) => !!v))\n      .subscribe(\n        (user) => {\n          this.db.collection<MConfig>(`config`).snapshotChanges()\n            .pipe(\n              map(actions => {\n                return actions\n                  .map(action => ({$key: action.payload.doc.id, ...action.payload.doc.data()}));\n              }),\n              catchError(err => of())\n            )\n            .subscribe(value => {\n              if (Array.isArray(value)) {\n                let config: MConfig = null;\n                value.forEach(v => {\n                  config = {\n                    ...config\n                  };\n                  config[v.$key] = v;\n                });\n                this.configSubject.next(config);\n              }\n            });\n\n          this.sectionCollection = this.db.collection<MSection>('sections', ref => ref.orderBy('order'));\n          this.sectionCollection.snapshotChanges()\n            .pipe(\n              catchError(err => of([])),\n              map(actions => {\n                return actions\n                  .map(action => (<MSection>{$key: action.payload.doc.id, ...action.payload.doc.data()}));\n              })\n            )\n            .subscribe(value => {\n              for (let i = 0; i < value.length; i++) {\n                if (!value[i].finished) {\n                  this.currentSectionSubject.next(value[i]);\n                  break;\n                }\n              }\n              this.sectionSubject.next(value);\n            });\n\n          this.db.collection('voters').snapshotChanges()\n            .pipe(\n              map(actions => {\n                return actions\n                  .map(action => ({$key: action.payload.doc.id, ...action.payload.doc.data()}));\n              }),\n              catchError(err => of([]))\n            )\n            .subscribe(value => {\n              this.voterListSubject.next(value);\n            });\n\n          this.voterDocument = this.db.doc(`voters/${user.email}`);\n          this.voterDocument.valueChanges()\n            .subscribe(\n              (value) => {\n                this.voterSubject.next(value);\n              }, error1 => {\n                this.auth.signOut().then(\n                  () => {\n                    this.router.navigate(['/login']).then();\n                  }\n                );\n              }\n            );\n\n        }\n      );\n  }\n}\n","module.exports = \"<h2 mat-dialog-title>{{data.title}}</h2>\\n<mat-dialog-content>{{data.content}}</mat-dialog-content>\\n<mat-dialog-actions>\\n  <button mat-button mat-dialog-close>No</button>\\n  <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->\\n  <button mat-button [mat-dialog-close]=\\\"true\\\">Yes</button>\\n</mat-dialog-actions>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS9jb25maXJtLWRpYWxvZy9jb25maXJtLWRpYWxvZy5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, Inject, OnInit} from '@angular/core';\nimport {MAT_DIALOG_DATA} from '@angular/material';\n\n\nexport interface DialogData {\n  title: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-alert-dialog',\n  templateUrl: './confirm-dialog.component.html',\n  styleUrls: ['./confirm-dialog.component.scss']\n})\nexport class ConfirmDialogComponent implements OnInit {\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: DialogData = {title: 'Title', content: 'Dialog body'}) {\n  }\n\n  ngOnInit() {\n  }\n\n\n}\n","module.exports = \"<div class=\\\"container\\\" [@.disabled]=\\\"true\\\" *ngFor=\\\"let voteItem of voteItems\\\">\\n  <mat-tab-group>\\n    <mat-tab label=\\\"Phần {{voteItem.title}}\\\">\\n      <table mat-table [dataSource]=\\\"voteItem.content\\\">\\n        <!-- # Column -->\\n        <ng-container matColumnDef=\\\"index\\\">\\n          <th mat-header-cell *matHeaderCellDef> No.</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.index}} </td>\\n        </ng-container>\\n\\n        <!-- title Column -->\\n        <ng-container matColumnDef=\\\"title\\\">\\n          <th mat-header-cell *matHeaderCellDef> Tiết mục</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.title}} </td>\\n        </ng-container>\\n\\n        <!-- type Column -->\\n        <ng-container matColumnDef=\\\"subtitle\\\">\\n          <th mat-header-cell *matHeaderCellDef> Thông tin</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.subtitle}} </td>\\n        </ng-container>\\n\\n        <!-- votes Column -->\\n        <ng-container matColumnDef=\\\"voteCount\\\">\\n          <th mat-header-cell *matHeaderCellDef> Lượt vote</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.voteCount}} </td>\\n        </ng-container>\\n\\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns; sticky: true\\\"></tr>\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n      </table>\\n    </mat-tab>\\n    <mat-tab *ngFor=\\\"let t of voteItem.content\\\" label=\\\"{{t.title}}\\\">\\n      <table mat-table [dataSource]=\\\"getVoterDataSource(t.voters)\\\">\\n        <!-- # Column -->\\n        <ng-container matColumnDef=\\\"$key\\\">\\n          <th mat-header-cell *matHeaderCellDef> No.</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.$key}} </td>\\n        </ng-container>\\n\\n        <!-- title Column -->\\n        <ng-container matColumnDef=\\\"email\\\">\\n          <th mat-header-cell *matHeaderCellDef> Email</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.email}} </td>\\n        </ng-container>\\n\\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedVoterColumns; sticky: true\\\"></tr>\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedVoterColumns;\\\"></tr>\\n      </table>\\n    </mat-tab>\\n  </mat-tab-group>\\n</div>\\n\\n\\n\"","module.exports = \".container {\\n  flex-direction: column;\\n  margin: 5px;\\n  padding: 5px;\\n  flex: 1;\\n  min-width: 300px; }\\n  .container table {\\n    width: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEvUHJvamVjdHMvYnNzL2Jzcy12b3Rpbmcvc3JjL2FwcC9tb2R1bGUvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLHVCQUFzQjtFQUN0QixZQUFXO0VBQ1gsYUFBWTtFQUNaLFFBQU87RUFDUCxpQkFBZ0IsRUFNakI7RUFYRDtJQVNJLFlBQVcsRUFDWiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4uY29udGFpbmVyIHtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luOiA1cHg7XG4gIHBhZGRpbmc6IDVweDtcbiAgZmxleDogMTtcbiAgbWluLXdpZHRoOiAzMDBweDtcblxuXG4gIHRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxufVxuIl19 */\"","import {Component, OnInit} from '@angular/core';\nimport {AppService} from '../../app.service';\nimport {filter} from 'rxjs/operators';\nimport {combineLatest} from 'rxjs';\n\nexport interface DashboardItem {\n  index: number;\n  order: number;\n  title: string;\n  subtitle: string;\n  voteCount: number;\n  voters: string[];\n}\n\nexport interface DashboardSection {\n  title: string;\n  content: DashboardItem[];\n}\n\nexport interface VoterItem {\n  $key: number;\n  email: string;\n}\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  displayedColumns = ['index', 'title', 'subtitle', 'voteCount'];\n  displayedVoterColumns = ['$key', 'email'];\n  voteItems: DashboardSection[] = [];\n\n  constructor(private appService: AppService) {\n\n  }\n\n  ngOnInit() {\n    combineLatest(this.appService.sectionSubject, this.appService.voterListSubject)\n      .pipe(\n        filter(([sections, voterList]) => (!!sections && !!voterList))\n      )\n      .subscribe(\n        ([sections, voterList]) => {\n          const tmp = [];\n\n          sections.forEach((s, index) => {\n\n            const sectionContent: DashboardItem[] = [];\n            s.items.forEach((item) => {\n\n              const voters = [];\n              let voteCount = 0;\n              voterList.filter(v => v.hasOwnProperty(s.$key)).forEach(v => {\n                const votes = v[s.$key];\n                if (votes.includes(item.id)) {\n                  voteCount++;\n                  voters.push(v['$key']);\n\n                }\n              });\n              const dashboardItem: DashboardItem = {\n                index: index,\n                order: item.order,\n                title: item.title,\n                subtitle: item.subtitle,\n                voteCount: voteCount,\n                voters: voters\n              };\n              sectionContent.push(dashboardItem);\n            });\n\n\n            tmp.push(\n              {\n                title: s.title,\n                content: sectionContent.sort((a, b) =>\n                  (a.voteCount === 0 && b.voteCount === 0) ? (a.order - b.order) : -(a.voteCount - b.voteCount))\n              }\n            );\n          });\n          this.voteItems = tmp;\n        }\n      );\n  }\n\n  getVoterDataSource(voters: string[]): VoterItem[] {\n    return voters.map((value, index) => <VoterItem>{$key: index, email: value});\n  }\n\n\n}\n","module.exports = \"<div class=\\\"container\\\">\\n  <div *ngIf=\\\"progress; else formBody\\\" class=\\\"form-body\\\">\\n    <mat-spinner></mat-spinner>\\n  </div>\\n\\n  <ng-template #formBody>\\n    <div *ngIf=\\\"user; else showLogin\\\" class=\\\"form-body\\\">\\n      <h1>Chào {{ user.displayName }}!</h1>\\n      <button mat-button mat-raised-button (click)=\\\"logout()\\\">Logout</button>\\n    </div>\\n    <ng-template #showLogin>\\n      <div class=\\\"form-body\\\">\\n        <p>Please login with BeeSightSoft account.</p>\\n        <button mat-button mat-raised-button (click)=\\\"login()\\\">Login with Google</button>\\n      </div>\\n    </ng-template>\\n  </ng-template>\\n\\n</div>\\n\"","module.exports = \".container {\\n  flex-direction: column;\\n  margin: 5px;\\n  padding: 5px;\\n  flex: 1;\\n  min-width: 300px; }\\n  .container .form-body {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEvUHJvamVjdHMvYnNzL2Jzcy12b3Rpbmcvc3JjL2FwcC9tb2R1bGUvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSx1QkFBc0I7RUFDdEIsWUFBVztFQUNYLGFBQVk7RUFDWixRQUFPO0VBQ1AsaUJBQWdCLEVBU2pCO0VBZEQ7SUFRSSxjQUFhO0lBQ2IsdUJBQXNCO0lBQ3RCLG9CQUFtQixFQUNwQiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmNvbnRhaW5lciB7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1hcmdpbjogNXB4O1xuICBwYWRkaW5nOiA1cHg7XG4gIGZsZXg6IDE7XG4gIG1pbi13aWR0aDogMzAwcHg7XG5cbiAgLmZvcm0tYm9keSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cblxuXG59XG4iXX0= */\"","import {Component, OnInit} from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport {LoginService} from './login.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  progress: Boolean = true;\n  user: firebase.User;\n\n  constructor(private loginService: LoginService, private router: Router) {\n    this.loginService.authStateSubject.subscribe(\n      (user: firebase.User) => {\n        if (user && user.uid) {\n          this.user = user;\n          setTimeout(() => {\n            this.router.navigate(['/voting']).then();\n          }, 1000);\n        }\n        this.progress = false;\n      });\n  }\n\n  ngOnInit() {\n  }\n\n  async login() {\n    this.progress = true;\n    try {\n      await this.loginService.signIn();\n    } catch (e) {\n    }\n    this.progress = false;\n  }\n\n  logout() {\n    this.loginService.signOut()\n      .then(() => {\n        this.user = null;\n      })\n      .catch((err) => console.error(err));\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {LoginService} from './login.service';\nimport {map, take, tap} from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginGuard implements CanActivate {\n  constructor(private auth: LoginService, private router: Router) {\n  }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    if (this.auth.authenticated) {\n      return true;\n    }\n    return this.auth.userObservable().pipe(\n      take(1),\n      map(user => !!user),\n      tap(loggedIn => {\n        if (!loggedIn) {\n          this.router.navigate(['/login']).then();\n        }\n      }));\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport {AngularFireAuth} from '@angular/fire/auth';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {AngularFirestore} from '@angular/fire/firestore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService {\n\n  private _user: firebase.User = null;\n  public authStateSubject: BehaviorSubject<firebase.User | null>;\n\n  constructor(private afAuth: AngularFireAuth, private db: AngularFirestore) {\n    this.authStateSubject = new BehaviorSubject(null);\n    this.afAuth.authState.subscribe((user: firebase.User) => {\n      // Notify\n      this._user = user;\n      this.authStateSubject.next(user);\n    });\n  }\n\n  get user(): firebase.User {\n    return this._user;\n  }\n\n  get authenticated(): boolean {\n    return !!(this.user && this.user.uid);\n  }\n\n  public userObservable(): Observable<firebase.User | null> {\n    return this.afAuth.user;\n  }\n\n  public signIn(provider: firebase.auth.AuthProvider = new firebase.auth.GoogleAuthProvider()): Promise<firebase.auth.UserCredential> {\n    return this.afAuth.auth.signInWithPopup(provider);\n  }\n\n  public signOut() {\n    return this.afAuth.auth.signOut();\n  }\n}\n","module.exports = \"<p>\\n  not found\\n</p>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS9wYWdlLW5vdC1mb3VuZC9wYWdlLW5vdC1mb3VuZC5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-page-not-found',\n  templateUrl: './page-not-found.component.html',\n  styleUrls: ['./page-not-found.component.scss']\n})\nexport class PageNotFoundComponent implements OnInit {\n\n  constructor(private router: Router) {\n  }\n\n  ngOnInit() {\n    this.router.navigate(['/login']).then();\n  }\n\n}\n","module.exports = \"<!--Form section register-->\\n<form class=\\\"register-form\\\">\\n  <mat-form-field class=\\\"register-form-full-width\\\">\\n    <input matInput placeholder=\\\"Tên section\\\" required [formControl]=\\\"sectionForm.title\\\">\\n    <mat-error *ngIf=\\\"sectionForm.title.invalid\\\">Vui lòng điền thông tin.</mat-error>\\n  </mat-form-field>\\n  <mat-form-field class=\\\"register-form-full-width\\\">\\n    <input matInput placeholder=\\\"Thời gian bầu chọn (giây)\\\" type=\\\"number\\\" required\\n           [formControl]=\\\"sectionForm.durationSec\\\">\\n    <mat-error *ngIf=\\\"sectionForm.durationSec.invalid\\\">Vui lòng điền thông tin.</mat-error>\\n  </mat-form-field>\\n  <mat-form-field class=\\\"register-form-full-width\\\">\\n    <input matInput placeholder=\\\"Số lượng phiếu/người\\\" type=\\\"number\\\" required\\n           [formControl]=\\\"sectionForm.maxVote\\\">\\n    <mat-error *ngIf=\\\"sectionForm.maxVote.invalid\\\">Vui lòng điền thông tin.</mat-error>\\n  </mat-form-field>\\n  <div>\\n    <button mat-button mat-raised-button [disabled]=\\\"!isSectionFormValid()\\\" (click)=\\\"addNewSection()\\\">Tạo mới</button>\\n  </div>\\n</form>\\n\\n<!--Form section detail register-->\\n<form class=\\\"register-form\\\">\\n  <mat-form-field class=\\\"register-form-full-width\\\">\\n    <input autofocus matInput placeholder=\\\"Tên tiết mục\\\" required [formControl]=\\\"sectionDetailForm.title\\\">\\n    <mat-error *ngIf=\\\"sectionDetailForm.title.invalid\\\">Vui lòng điền thông tin.</mat-error>\\n  </mat-form-field>\\n\\n  <mat-form-field class=\\\"register-form-full-width\\\">\\n    <input matInput placeholder=\\\"Thông tin thêm\\\" required [formControl]=\\\"sectionDetailForm.subtitle\\\">\\n    <mat-error *ngIf=\\\"sectionDetailForm.subtitle.invalid\\\">Vui lòng điền thông tin.</mat-error>\\n  </mat-form-field>\\n\\n  <mat-form-field class=\\\"register-form-full-width\\\">\\n    <input matInput placeholder=\\\"Link ảnh preview\\\" required [formControl]=\\\"sectionDetailForm.preview\\\">\\n    <mat-error *ngIf=\\\"sectionDetailForm.preview.invalid\\\">Vui lòng điền thông tin.</mat-error>\\n  </mat-form-field>\\n\\n  <mat-form-field class=\\\"register-form-full-width\\\">\\n    <textarea matInput placeholder=\\\"Mô tả ngắn\\\" required [formControl]=\\\"sectionDetailForm.description\\\"></textarea>\\n    <mat-error *ngIf=\\\"sectionDetailForm.description.invalid\\\">Vui lòng điền thông tin.</mat-error>\\n  </mat-form-field>\\n\\n  <mat-form-field>\\n    <mat-select placeholder=\\\"Chọn section\\\" required [formControl]=\\\"sectionDetailForm.sectionId\\\">\\n      <mat-option *ngFor=\\\"let section of sections\\\" [value]=\\\"section.$key\\\">\\n        {{section.title}}\\n      </mat-option>\\n    </mat-select>\\n    <mat-error *ngIf=\\\"sectionDetailForm.sectionId.invalid\\\">Vui lòng chọn.</mat-error>\\n  </mat-form-field>\\n\\n  <div>\\n    <button mat-button mat-raised-button [disabled]=\\\"!isSectionDetailFormValid()\\\" (click)=\\\"addNewSectionDetail()\\\">Tạo\\n      mới\\n    </button>\\n  </div>\\n</form>\\n\\n<div class=\\\"table-container\\\" [@.disabled]=\\\"true\\\" *ngFor=\\\"let section of sections\\\">\\n  <h3>{{section.title}}</h3>\\n  <!--Table item-->\\n  <table mat-table [dataSource]=\\\"section.items\\\">\\n    <!-- # Column -->\\n    <ng-container matColumnDef=\\\"index\\\">\\n      <th mat-header-cell *matHeaderCellDef> No.</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.order}} </td>\\n    </ng-container>\\n\\n    <!-- title Column -->\\n    <ng-container matColumnDef=\\\"title\\\">\\n      <th mat-header-cell *matHeaderCellDef> Tiết mục</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.title}} </td>\\n    </ng-container>\\n\\n    <!-- type Column -->\\n    <ng-container matColumnDef=\\\"subtitle\\\">\\n      <th mat-header-cell *matHeaderCellDef> Thông tin</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.subtitle}} </td>\\n    </ng-container>\\n\\n    <!-- preview Column -->\\n    <ng-container matColumnDef=\\\"preview\\\">\\n      <th mat-header-cell *matHeaderCellDef> Preview</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\n        <img mat-card-avatar class=\\\"item-header-image\\\" src=\\\"{{element.preview}}\\\" alt=\\\"\\\">\\n      </td>\\n    </ng-container>\\n\\n    <!-- description Column -->\\n    <ng-container matColumnDef=\\\"description\\\">\\n      <th mat-header-cell *matHeaderCellDef> Mô tả</th>\\n      <td mat-cell *matCellDef=\\\"let element\\\"> {{element.description}} </td>\\n    </ng-container>\\n\\n    <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns; sticky: true\\\"></tr>\\n    <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n  </table>\\n\\n\\n</div>\\n\"","module.exports = \".register-form {\\n  min-width: 150px;\\n  max-width: 500px;\\n  width: 100%;\\n  margin: 50px auto; }\\n  .register-form .register-form-full-width {\\n    width: 100%; }\\n  .table-container {\\n  flex-direction: column;\\n  margin-bottom: 100px;\\n  padding: 5px;\\n  flex: 1;\\n  min-width: 300px; }\\n  .table-container table {\\n    width: 100%; }\\n  .table-container table .item-header-image {\\n      background-size: cover;\\n      width: 100px; }\\n  .table-container table .cdk-column-description {\\n      flex: 0 0 75px;\\n      max-width: 100px; }\\n  @media (max-width: 640px) {\\n      .table-container table .cdk-column-preview, .table-container table .cdk-column-description {\\n        display: none; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEvUHJvamVjdHMvYnNzL2Jzcy12b3Rpbmcvc3JjL2FwcC9tb2R1bGUvc2V0dXAvc2V0dXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBZ0I7RUFDaEIsaUJBQWdCO0VBQ2hCLFlBQVc7RUFDWCxrQkFBaUIsRUFLbEI7RUFURDtJQU9JLFlBQVcsRUFDWjtFQUlIO0VBQ0UsdUJBQXNCO0VBQ3RCLHFCQUFvQjtFQUNwQixhQUFZO0VBQ1osUUFBTztFQUNQLGlCQUFnQixFQXVCakI7RUE1QkQ7SUFTSSxZQUFXLEVBaUJaO0VBMUJIO01BWU0sdUJBQXNCO01BQ3RCLGFBQVksRUFDYjtFQWRMO01BaUJNLGVBQWM7TUFDZCxpQkFBZ0IsRUFDakI7RUFFRDtNQXJCSjtRQXVCUSxjQUNGLEVBQUMsRUFBQSIsImZpbGUiOiJzcmMvYXBwL21vZHVsZS9zZXR1cC9zZXR1cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yZWdpc3Rlci1mb3JtIHtcbiAgbWluLXdpZHRoOiAxNTBweDtcbiAgbWF4LXdpZHRoOiA1MDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogNTBweCBhdXRvO1xuXG4gIC5yZWdpc3Rlci1mb3JtLWZ1bGwtd2lkdGgge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG59XG5cblxuLnRhYmxlLWNvbnRhaW5lciB7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1hcmdpbi1ib3R0b206IDEwMHB4O1xuICBwYWRkaW5nOiA1cHg7XG4gIGZsZXg6IDE7XG4gIG1pbi13aWR0aDogMzAwcHg7XG5cblxuICB0YWJsZSB7XG4gICAgd2lkdGg6IDEwMCU7XG5cbiAgICAuaXRlbS1oZWFkZXItaW1hZ2Uge1xuICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICAgIHdpZHRoOiAxMDBweDtcbiAgICB9XG5cbiAgICAuY2RrLWNvbHVtbi1kZXNjcmlwdGlvbiB7XG4gICAgICBmbGV4OiAwIDAgNzVweDtcbiAgICAgIG1heC13aWR0aDogMTAwcHg7XG4gICAgfVxuXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDY0MHB4KSB7XG4gICAgICAuY2RrLWNvbHVtbi1wcmV2aWV3LCAuY2RrLWNvbHVtbi1kZXNjcmlwdGlvbiB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuIl19 */\"","import {Component, OnInit} from '@angular/core';\nimport {FormControl, Validators} from '@angular/forms';\nimport {AppService} from '../../app.service';\nimport {filter} from 'rxjs/operators';\nimport {MatSnackBar} from '@angular/material';\nimport {MSection} from '../../model/m-section';\nimport {MItem} from '../../model/m-item';\n\nimport uuidv1 from 'uuid/v1';\n\n\n@Component({\n  selector: 'app-setup',\n  templateUrl: './setup.component.html',\n  styleUrls: ['./setup.component.scss']\n})\nexport class SetupComponent implements OnInit {\n\n  sectionDetailForm = {\n    title: new FormControl({value: null, disabled: false}, [Validators.required]),\n    subtitle: new FormControl({value: null, disabled: false}, [Validators.required]),\n    preview: new FormControl({value: null, disabled: false}, [Validators.required]),\n    description: new FormControl({value: null, disabled: false}, [Validators.required]),\n    sectionId: new FormControl({value: null, disabled: false}, [Validators.required]),\n  };\n\n  sectionForm = {\n    title: new FormControl({value: null, disabled: false}, [Validators.required]),\n    durationSec: new FormControl({value: 5 * 60, disabled: false}, [Validators.required]),\n    maxVote: new FormControl({value: 2, disabled: false}, [Validators.required]),\n  };\n\n  displayedColumns = ['index', 'title', 'subtitle', 'preview', 'description'];\n  sections: MSection[] = [];\n\n  constructor(private appService: AppService, private snackBar: MatSnackBar) {\n  }\n\n  ngOnInit() {\n    this.appService.sectionSubject.pipe(\n      filter((sections) => !!sections)\n    ).subscribe((sections) => {\n      this.sections = sections;\n    });\n\n  }\n\n  isSectionFormValid(): boolean {\n    return this.sectionForm.title.valid;\n  }\n\n\n  isSectionDetailFormValid(): boolean {\n    return this.sectionDetailForm.title.valid &&\n      this.sectionDetailForm.subtitle.valid &&\n      this.sectionDetailForm.preview.valid &&\n      this.sectionDetailForm.description.valid &&\n      this.sectionDetailForm.sectionId.valid;\n  }\n\n  addNewSection(): void {\n    this.appService.sectionCollection\n      .add({\n        order: this.sections.length,\n        title: this.sectionForm.title.value,\n        duration_sec: this.sectionForm.durationSec.value,\n        end_time: 0,\n        finished: false,\n        max_vote: this.sectionForm.maxVote.value,\n        items: []\n      })\n      .then((ref) => {\n        this.showMsg('Tạo section thành công');\n      })\n      .catch(reason => {\n        console.error('addNewSection', reason);\n        this.showMsg(reason);\n      });\n  }\n\n  addNewSectionDetail(): void {\n    const section = this.sections.filter(s => s.$key == this.sectionDetailForm.sectionId.value)[0];\n    console.log(this.sections);\n    console.log(section);\n    if (!section) {\n      return;\n    }\n    const items: MItem[] = section.items;\n    if (items && Array.isArray(items)) {\n      items.push({\n        id: uuidv1(),\n        order: items.length,\n        title: this.sectionDetailForm.title.value,\n        subtitle: this.sectionDetailForm.subtitle.value,\n        description: this.sectionDetailForm.description.value,\n        preview: this.sectionDetailForm.preview.value\n      })\n      ;\n      this.appService.sectionCollection.doc(`/${this.sectionDetailForm.sectionId.value}`)\n        .update({items: items})\n        .then(() => {\n          this.showMsg('Thêm tiết mục thành công.');\n        })\n        .catch(reason => {\n          console.error('addNewSectionDetail', reason);\n          this.showMsg(reason);\n        });\n    }\n  }\n\n  showMsg(msg: string): void {\n    this.snackBar.open(msg, null, {\n      duration: 2000,\n    });\n  }\n}\n","module.exports = \"<div class=\\\"container\\\">\\n  <div *ngIf=\\\"user\\\" style=\\\"text-align:center\\\">\\n    <h1>Chào {{ user.displayName }}</h1>\\n    <h3 *ngIf=\\\"(getAvailableSlot() >0); else endSlot\\\">Bạn còn {{getAvailableSlot()}} lượt bình chọn!</h3>\\n    <ng-template #endSlot>\\n      <h3>Bạn đã xài hết lượt bình chọn!</h3>\\n    </ng-template>\\n    <button mat-button mat-raised-button (click)=\\\"logout()\\\">Logout</button>\\n    <button mat-button mat-raised-button *ngIf=\\\"isAdmin\\\" routerLink=\\\"/dashboard\\\" style=\\\"margin-left: 10px\\\">Dashboard\\n    </button>\\n  </div>\\n  <mat-list-item *ngIf=\\\"currentSection\\\">\\n    <mat-card class=\\\"item-card\\\"\\n              *ngFor=\\\"let item of currentSection.items | orderBy : 'order'\\\">\\n      <mat-card-header>\\n        <img mat-card-avatar class=\\\"item-header-image\\\" src=\\\"{{item.preview}}\\\" alt=\\\"\\\">\\n        <mat-card-title>{{item.title}}</mat-card-title>\\n        <mat-card-subtitle>{{item.subtitle}}</mat-card-subtitle>\\n      </mat-card-header>\\n      <img mat-card-image src=\\\"{{item.preview}}\\\" alt=\\\"\\\">\\n      <mat-card-content>\\n        <p>\\n          {{item.description}}\\n        </p>\\n      </mat-card-content>\\n      <mat-card-actions style=\\\"display: flex;justify-content: center;\\\">\\n        <button *ngIf=\\\"voted.includes(item.id) || getAvailableSlot() > 0\\\" mat-fab (click)=\\\"vote(item)\\\"\\n                [disabled]=\\\"voted.includes(item.id)\\\">\\n          <mat-icon aria-label=\\\"Vote\\\">favorite</mat-icon>\\n        </button>\\n      </mat-card-actions>\\n    </mat-card>\\n  </mat-list-item>\\n</div>\\n\"","module.exports = \".container {\\n  flex-direction: column;\\n  margin: 5px;\\n  padding: 5px;\\n  flex: 1;\\n  min-width: 300px; }\\n  .container mat-list-item {\\n    display: flex;\\n    justify-content: center; }\\n  .container mat-list-item .item-card {\\n      max-width: 400px;\\n      margin: 10px; }\\n  .container mat-list-item .item-card .item-header-image {\\n        background-size: cover; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0RhdGEvUHJvamVjdHMvYnNzL2Jzcy12b3Rpbmcvc3JjL2FwcC9tb2R1bGUvdm90aW5nL3ZvdGluZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLHVCQUFzQjtFQUN0QixZQUFXO0VBQ1gsYUFBWTtFQUNaLFFBQU87RUFDUCxpQkFBZ0IsRUFnQmpCO0VBckJEO0lBUUksY0FBYTtJQUNiLHdCQUF1QixFQVd4QjtFQXBCSDtNQVlNLGlCQUFnQjtNQUNoQixhQUFZLEVBS2I7RUFsQkw7UUFnQlEsdUJBQXNCLEVBQ3ZCIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlL3ZvdGluZy92b3RpbmcuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5jb250YWluZXIge1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtYXJnaW46IDVweDtcbiAgcGFkZGluZzogNXB4O1xuICBmbGV4OiAxO1xuICBtaW4td2lkdGg6IDMwMHB4O1xuXG4gIG1hdC1saXN0LWl0ZW0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cbiAgICAuaXRlbS1jYXJkIHtcbiAgICAgIG1heC13aWR0aDogNDAwcHg7XG4gICAgICBtYXJnaW46IDEwcHg7XG5cbiAgICAgIC5pdGVtLWhlYWRlci1pbWFnZSB7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cbn1cbiJdfQ== */\"","import {Component, OnInit} from '@angular/core';\nimport {MItem} from '../../model/m-item';\nimport {LoginService} from '../login/login.service';\nimport {MatDialog, MatSnackBar} from '@angular/material';\nimport * as firebase from 'firebase/app';\nimport {Router} from '@angular/router';\nimport {AppService} from '../../app.service';\nimport {filter} from 'rxjs/operators';\nimport {ConfirmDialogComponent} from '../confirm-dialog/confirm-dialog.component';\nimport {MSection} from '../../model/m-section';\nimport {combineLatest} from 'rxjs';\n\n@Component({\n  selector: 'app-voting',\n  templateUrl: './voting.component.html',\n  styleUrls: ['./voting.component.scss']\n})\nexport class VotingComponent implements OnInit {\n  // db\n  currentSection: MSection;\n  voted: string[] = [];\n  user: firebase.User;\n  isAdmin = false;\n\n  constructor(private appService: AppService, private auth: LoginService,\n              private snackBar: MatSnackBar, private router: Router, public dialog: MatDialog) {\n\n  }\n\n  ngOnInit() {\n    this.user = this.auth.user;\n    this.appService.configSubject\n      .pipe(filter((v) => !!v))\n      .subscribe(\n        (config) => {\n          this.isAdmin = config.admin.hasOwnProperty(this.user.email);\n        }\n      );\n\n    combineLatest(\n      this.appService.currentSectionSubject\n        .pipe(filter((v) => !!v)),\n      this.appService.voterSubject\n        .pipe(filter((v) => !!v))\n    )\n      .subscribe(\n        ([currentSection, voteList]) => {\n          this.currentSection = currentSection;\n          if (voteList.hasOwnProperty(this.currentSection.$key)) {\n            this.voted = voteList[this.currentSection.$key];\n          }\n        });\n  }\n\n  logout() {\n    this.auth.signOut()\n      .then(() => {\n        this.user = null;\n        this.router.navigate(['/login']).then();\n      })\n      .catch((err) => console.error(err));\n  }\n\n  getAvailableSlot(): number {\n    return (this.currentSection && (this.currentSection.max_vote - this.voted.length)) || 0;\n  }\n\n  vote(item: MItem): void {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '300px',\n      data: {title: `Vote cho \\\"${item.title}\\\"`, content: 'Bạn sẽ mất 1 lượt vote. Chắc chắn chứ?'}\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result === true) {\n\n        if (item.id && !this.voted.includes(item.id)) {\n          const tmp = this.voted.slice(0);\n          tmp.push(item.id);\n          const update = {};\n          update[this.currentSection.$key] = tmp;\n\n          this.appService.voterDocument.set(update)\n            .then(() => {\n              this.showMsg('Bầu chọn thành công.');\n              this.voted = tmp;\n            })\n            .catch(reason => {\n              console.error('vote', reason);\n              this.showMsg(`Lỗi: ${reason}`);\n            });\n\n        } else {\n          this.showMsg('Mục này đã được bình chọn.');\n        }\n      }\n    });\n  }\n\n  showMsg(msg: string): void {\n    this.snackBar.open(msg, null, {\n      duration: 2000,\n    });\n  }\n\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({name: 'orderBy'})\nexport class OrderBy implements PipeTransform {\n\n  static _orderByComparator(a: any, b: any): number {\n    if (a === undefined && b === undefined) {\n      return 0;\n    }\n    if ((isNaN(parseFloat(a)) || !isFinite(a)) || (isNaN(parseFloat(b)) || !isFinite(b))) {\n      // Isn't a number so lowercase the string to properly compare\n      if (a.toLowerCase() < b.toLowerCase()) {\n        return -1;\n      }\n      if (a.toLowerCase() > b.toLowerCase()) {\n        return 1;\n      }\n    } else {\n      // Parse strings as numbers to compare properly\n      if (parseFloat(a) < parseFloat(b)) {\n        return -1;\n      }\n      if (parseFloat(a) > parseFloat(b)) {\n        return 1;\n      }\n    }\n\n    return 0; // equal each other\n  }\n\n  transform(input: any, [config = '+']): any {\n\n    if (!Array.isArray(input)) {\n      return input;\n    }\n\n    if (!Array.isArray(config) || (Array.isArray(config) && config.length === 1)) {\n      const propertyToCheck: string = !Array.isArray(config) ? config : config[0];\n      const desc = propertyToCheck.substr(0, 1) === '-';\n\n      // Basic array\n      if (!propertyToCheck || propertyToCheck === '-' || propertyToCheck === '+') {\n        return !desc ? input.sort() : input.sort().reverse();\n      } else {\n        const property: string = propertyToCheck.substr(0, 1) === '+' || propertyToCheck.substr(0, 1) === '-'\n          ? propertyToCheck.substr(1)\n          : propertyToCheck;\n\n        return input.sort(function (a: any, b: any) {\n          return !desc ?\n            OrderBy._orderByComparator(a[property], b[property])\n            : -OrderBy._orderByComparator(a[property], b[property]);\n        });\n      }\n    } else {\n      // Loop over property of the array in order and sort\n      return input.sort(function (a: any, b: any) {\n        for (let i = 0; i < config.length; i++) {\n          const desc = config[i].substr(0, 1) === '-';\n          const property = config[i].substr(0, 1) === '+' || config[i].substr(0, 1) === '-'\n            ? config[i].substr(1)\n            : config[i];\n\n          const comparison = !desc ?\n            OrderBy._orderByComparator(a[property], b[property])\n            : -OrderBy._orderByComparator(a[property], b[property]);\n\n          // Don't return 0 yet in case of needing to sort by next property\n          if (comparison !== 0) {\n            return comparison;\n          }\n        }\n\n        return 0; // equal each other\n      });\n    }\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: 'AIzaSyDpHttkgwlWTS2BzPYjJcc3ZUgxWdp_aKY',\n    authDomain: 'bss-voting.firebaseapp.com',\n    databaseURL: 'https://bss-voting.firebaseio.com',\n    projectId: 'bss-voting',\n    storageBucket: 'bss-voting.appspot.com',\n    messagingSenderId: '233603608932'\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}